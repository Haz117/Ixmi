// firestore.rules
// Estas son las reglas de seguridad recomendadas para el proyecto ixmicheck
// Copiar y pegar en Firebase Console > Firestore Database > Rules

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Reglas para la colección 'seccionales'
    match /seccionales/{document} {
      // Permitir lectura a usuarios autenticados
      allow read: if request.auth != null;
      
      // Permitir escritura a usuarios autenticados
      // Opcional: agregar validaciones específicas
      allow write: if request.auth != null 
        && request.auth.token.email_verified == true;
    }
    
    // Reglas para documentos de prueba (opcional)
    match /test/{document} {
      allow read, write: if request.auth != null;
    }
    
    // Denegar acceso a cualquier otra colección no especificada
    match /{document=**} {
      allow read, write: if false;
    }
  }
}

// INSTRUCCIONES PARA APLICAR:
// 1. Ir a Firebase Console
// 2. Seleccionar el proyecto
// 3. Ir a Firestore Database
// 4. Ir a la pestaña "Rules" 
// 5. Reemplazar el contenido con estas reglas
// 6. Hacer clic en "Publish"

// ALTERNATIVA MÁS PERMISIVA PARA PRUEBAS (NO RECOMENDADA PARA PRODUCCIÓN):
/*
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}
*/
